<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tire Texture Classifier — AI Detection</title>
    <meta
      name="description"
      content="Upload a tire image and detect Normal or Cracked using AI instantly."
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
  </head>
  <body class="app-body bg-light text-dark">
    <main
      class="min-vh-100 d-flex align-items-center justify-content-center py-5"
    >
      <div
        class="glass-card container px-4 py-5 shadow-lg"
        style="max-width: 860px; background: white"
      >
        <header class="text-center mb-4 mb-lg-5">
          <div class="brand-kicker text-uppercase fw-semibold">AI-powered</div>
          <h1 class="hero-title fw-bold mb-3">Tire Texture Classifier</h1>
          <p class="hero-subtitle text-secondary m-0">
            Upload a tire image to instantly detect whether it is
            <span class="text-success">Normal</span> or
            <span class="text-danger">Cracked</span>.
          </p>
        </header>

        <form method="POST" enctype="multipart/form-data" class="mb-4">
          <div class="mb-3">
            <label for="file" class="form-label fw-semibold"
              >Select image</label
            >
            <input
              id="file"
              type="file"
              name="file"
              accept="image/*"
              class="form-control form-control-lg upload-input"
              required
            />
            <div class="form-text">Supported formats: JPG, JPEG, PNG</div>
          </div>
          <div class="d-grid">
            <button type="submit" class="btn btn-brand btn-lg">
              Upload & Predict
            </button>
          </div>
        </form>

        {% if image_url %}
        <div class="row g-4 g-lg-5 align-items-center">
          <div class="col-12 col-lg-6">
            <div class="preview-card p-2">
              <img
                src="{{ image_url }}"
                class="img-fluid preview-image rounded"
                alt="Uploaded Image"
                loading="lazy"
              />
            </div>
          </div>
          <div class="col-12 col-lg-6">
            <div
              class="result-card p-4 h-100 d-flex flex-column justify-content-center align-items-center text-center"
            >
              <p class="text-muted mb-2">Prediction</p>
              {% if prediction %} {% if 'Normal' in prediction %}
              <span
                class="badge bg-success-subtle text-success-emphasis badge-large"
                >{{ prediction }}</span
              >
              {% elif 'Cracked' in prediction %}
              <span
                class="badge bg-danger-subtle text-danger-emphasis badge-large"
                >{{ prediction }}</span
              >
              {% else %}
              <span
                class="badge bg-secondary-subtle text-secondary-emphasis badge-large"
                >{{ prediction }}</span
              >
              {% endif %} {% else %}
              <span class="text-muted">No prediction available</span>
              {% endif %}
            </div>
          </div>
        </div>
        {% elif prediction %}
        <div class="alert alert-warning shadow-sm" role="alert">
          {{ prediction }}
        </div>
        {% endif %}

        <footer class="text-center small text-muted mt-4">
          Powered by TensorFlow • Designed for clarity and speed
        </footer>
      </div>
    </main>
  </body>
</html>
